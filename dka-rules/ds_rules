-include $(DEVKITARM)/base_rules

LIBNDS	:=	$(DEVKITPRO)/libnds

#---------------------------------------------------------------------------------
%.ds.gba: %.nds
	@dsbuild $<
	@echo built ... $(notdir $@)

#---------------------------------------------------------------------------------
%.nds: %.bin
	@ndstool -c $@ -9 $<
	@echo built ... $(notdir $@)

#---------------------------------------------------------------------------------
%.bin: %.elf
	@$(OBJCOPY) -O binary $< $@
	@echo built ... $(notdir $@)
 
#---------------------------------------------------------------------------------
%.elf:
	@echo linking binary
	@$(LD)  $(LDFLAGS) $(OFILES) $(LIBPATHS) $(LIBS) -o $@
